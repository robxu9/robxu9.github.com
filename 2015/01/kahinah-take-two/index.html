<html lang="en">
<head>

  
  <meta charset="utf-8">
  <title>kahinah, take two</title>
  <meta name="description" content="kahinah, take two">
  <meta name="author" content="Robert Xu">

  
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="http://www.robxu9.com//css/fonts.css">
  <link rel="stylesheet" href="http://www.robxu9.com//css/normalize.css">
  <link rel="stylesheet" href="http://www.robxu9.com//css/skeleton.css">
  <link rel="stylesheet" href="http://www.robxu9.com//css/custom.css">
</head>
<body>

<header id="menu">
  <div class="container">
	<span class="logo">Robert Xu</span>
	<a>&#9776;</a>
  </div>
</header>

<nav class="navbar">
  <div class="container">
	<div class="row">
	  <div class="eight columns offset-by-two">
		<ul class="">
		  
		  <li class="u-pull-left"> <a href="http://www.robxu9.com/" class="brand" style="font-weight:bold;font-size:normal"> Robert Xu </a></li>
		  <li class="u-pull-right cate"> <a href="http://www.robxu9.com//about/" class=""> About </a></li>
		  
		  <li class="u-pull-right cate"> <a href="http://www.robxu9.com//categories/music" class=""> Music </a></li>
		  
		  <li class="u-pull-right cate"> <a href="http://www.robxu9.com//categories/musings" class=""> Musings </a></li>
		  
		  <li class="u-pull-right cate"> <a href="http://www.robxu9.com//categories/programming" class=""> Programming </a></li>
		  
		  <li class="u-pull-right cate"> <a href="http://www.robxu9.com//categories/school" class=""> School </a></li>
		  
		</ul>
	  </div>
	</div>
  </div>
</nav>


<div class="container post-wrapper">
  <div class="row">
	<div class="eight columns offset-by-two">
	  <div id="post-title">
		<p class="footnote">
		  
          <time class="">20 Jan 2015 ~ 500 words</time>
		  
		  
		  |
		  
		  
		  tags:<a href="http://www.robxu9.com//tags/openmandriva">openmandriva</a> <a href="http://www.robxu9.com//tags/rpm">rpm</a> <a href="http://www.robxu9.com//tags/abf">abf</a> 
		  

		  
		  categories:<a href="http://www.robxu9.com//categories/programming">programming</a> 
		  

		  

		</p>
		<h5>kahinah, take two</h5>
        <h6><small>another item in the long list of rewrites</small></h6>
	  </div>

	  <div class="post">
		

<p>This one was the one that needed the obvious rewrite.</p>

<h3 id="background:226c55525206653d6c71e0f5695b4e16">Background</h3>

<p>Kahinah is an updates manager for the <a href="http://openmandriva.org">OpenMandriva</a>
Association&rsquo;s distribution, OpenMandriva Lx. Its goal is to monitor builds that
are produced from a build system (which is <a href="https://abf.io">abf.io</a> right now),
and create a karma system which testers can vote on the updates, and eventually
accept them as working, or reject them as deficient.</p>

<p>This worked for the most part, but when it came time for a large number of
builds (think a KDE SC 4 version update), Kahinah was overwhelmed, testers
were crushed, and updates had a hard time going through.</p>

<p>Additionally, the system suffered from numerous bugs due to changes on abf.io,
and it certainly didn&rsquo;t help that I was using <a href="http://beego.me">beego</a> and
pulling many many dependencies, which shot build times up through the roof.</p>

<h3 id="version-4:226c55525206653d6c71e0f5695b4e16">Version&hellip; 4?</h3>

<p>The first couple of versions were just getting it usable and bearable for the
most part. This rewrite is entirely from scratch, with no existing code.</p>

<p>I finally provide a decent JSON API, and I plan to use JSON web tokens to
provide authentication (thanks Matt for pointing that out). Updates are now
more organized, and for the first time ever, I&rsquo;m providing a new type called
advisories.</p>

<h3 id="what-are-advisories:226c55525206653d6c71e0f5695b4e16">What are Advisories?</h3>

<p>Advisories are groups of updates. Instead of voting on one update, we create
an advisory with the updates we want to contain in it. They can range from
just one update to a group of them, and testers can test ALL of them at the
same time.</p>

<p>This has two purposes - one, to force package maintainers to document more
throughly for corporate customers (for example, putting bug references so
that Kahinah can connect to Bugzilla and say, hey, here&rsquo;s a possible solution
that you can test), and two, to make large updates much more manageable for
testers.</p>

<p>It also brings us in line with practically every distribution out there
that has to keep track of updates (like Fedora&rsquo;s bodhi).</p>

<h3 id="what-else-has-changed:226c55525206653d6c71e0f5695b4e16">What else has changed?</h3>

<p>The frontend is separate from the backend, and is written with
<a href="http://emberjs.com">ember.js</a>. It&rsquo;s my first foray into ember.js, and I&rsquo;m
curious to see how it goes. The documentation is a bit random, especially since
it looks like they&rsquo;re migrating towards some ES6 standards, so it&rsquo;ll be
both a learning experience and a headache.</p>

<h3 id="release-soon:226c55525206653d6c71e0f5695b4e16">Release soon?</h3>

<p>When I get stuff working, maybe. I intend to deploy a beta version to
replace the current Kahinah on jasper sometime at the end of this month
or the beginning of next.</p>

<h3 id="github:226c55525206653d6c71e0f5695b4e16">Github</h3>

<p><a href="https://github.com/robxu9/kahinah/tree/dev_nobeego">kahinah</a> is licensed
under the MIT license.</p>

	  </div>

      <div class="post">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'robxu9';
        var disqus_title = 'kahinah, take two';
        var disqus_url = 'http:\/\/www.robxu9.com\/2015\/01\/kahinah-take-two\/';

        (function() {
            
            if (window.location.hostname == "localhost")
                return;

            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments.</a></noscript>
      </div>
	</div>
  </div>
</div>

<div class="footer">
  <div class="container">
	<div class="row">
	  <div class="ten columns offset-by-two">
		<p class="footnote">
		  
		  Â© 2014-2015 Robert Xu. All Rights Reserved. Content not indicative of any addl party.
		  
		  
		  Find me at

		  
		  <a href="https://github.com/robxu9" >GitHub</a>
		  

		  

		  
		  <a href="https://twitter.com/robxu9">Twitter</a>
		  

		  
		  <a href="https://www.linkedin.com/in/robxu9">Linkedin</a>
		  

		  
		</p>
	  </div>
	</div>
  </div>
</div>


<script src="http://www.robxu9.com//js/jquery.min.js" type="text/javascript"></script>
<script src="http://www.robxu9.com//js/jquery.timeago.js" type="text/javascript"></script>
<script type="text/javascript">
  $(function(){
    $("time.timeago").timeago();
  })
  $("#menu").click(function(){
    $(".brand").text("HOME");
    $(".navbar ul li").removeClass("cate");
    $(".navbar").toggle();
  });
  $(window).resize(function(){
    if(window.innerWidth > 768) {
      $(".navbar").removeAttr("style");
    }
  });
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60158874-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>

